<!DOCTYPE html>
<html lang="en">
<head>
    <title><%= product.name %></title>
    <link rel="stylesheet" href="/styles/product.css">
    <script>
        function addToCart(id, name, price, image) {
            fetch('/add-to-cart', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ id, name, price, image }),
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message); 
            })
            .catch(error => {
                console.error('Error adding to cart:', error);
            });
        }
    </script>
</head>
<body>
    <div class="product-container">
        <h1><%= product.name %></h1>
        <img src="<%= product.image %>" alt="<%= product.name %>">
        <p>Price: $<%= product.price %></p>
        <p><%= product.description %></p>
        <button onclick="addToCart('<%= product._id %>', '<%= product.name %>',  '<%= product.image %>')">Add to Cart</button>
        <a href="/dashboard">Back to Dashboard</a>
    </div>
</body>
</html>
